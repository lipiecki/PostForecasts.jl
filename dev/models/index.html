<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Models · PostForecasts.jl</title><meta name="title" content="Models · PostForecasts.jl"/><meta property="og:title" content="Models · PostForecasts.jl"/><meta property="twitter:title" content="Models · PostForecasts.jl"/><meta name="description" content="Documentation for PostForecasts.jl."/><meta property="og:description" content="Documentation for PostForecasts.jl."/><meta property="twitter:description" content="Documentation for PostForecasts.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PostForecasts.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../forecasts/">Structures</a></li><li><a class="tocitem" href="../postprocess/">Postprocessing</a></li><li class="is-active"><a class="tocitem" href>Models</a><ul class="internal"><li><a class="tocitem" href="#Normal-error-distribution"><span>Normal error distribution</span></a></li><li><a class="tocitem" href="#Conformal-prediction-and-historical-simulation"><span>Conformal prediction and historical simulation</span></a></li><li><a class="tocitem" href="#Isotonic-distributional-regression"><span>Isotonic distributional regression</span></a></li><li><a class="tocitem" href="#Quantile-regression"><span>Quantile regression</span></a></li><li><a class="tocitem" href="#Training-and-prediction"><span>Training and prediction</span></a></li></ul></li><li><a class="tocitem" href="../loadsave/">Loading and saving forecasts</a></li><li><a class="tocitem" href="../averaging/">Averaging forecasts</a></li><li><a class="tocitem" href="../evaluation/">Evaluation metrics</a></li><li><a class="tocitem" href="../shapley/">Shapley values and ensemble contributions</a></li><li><a class="tocitem" href="../utils/">Utilities</a></li><li><a class="tocitem" href="../datasets/">Datasets</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Models</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/lipiecki/PostForecasts.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/lipiecki/PostForecasts.jl/blob/main/docs/src/models.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h1><p><strong>PostForecasts.jl</strong> currently provides four models for handling postprocessing of point predictions into probabilistic forecasts: </p><ul><li>Normal error distribution</li><li>Conformal Prediction (and Historical Simulation)</li><li>Isotonic Distributional Regression</li><li>Quantile Regression</li></ul><p>Every model belongs to the <code>PostModel</code> supertype. Models that work exclusively with a single point forecast as a regressor are of type <code>UniPostModel</code>, while models that support multiple regressors are of type <code>MultiPostModel</code>.</p><h2 id="Normal-error-distribution"><a class="docs-heading-anchor" href="#Normal-error-distribution">Normal error distribution</a><a id="Normal-error-distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Normal-error-distribution" title="Permalink"></a></h2><p>The naive model for probabilistic forecasting, which assumes normally distributed errors of point forecasts.</p><p>The predictive distribution conditional on point forecast <span>$\hat{y}$</span> is a Gaussian <span>$\mathcal{N}(\hat{y} + \mu, \sigma)$</span>, where <span>$\mu$</span> and <span>$\sigma$</span> are mean and sample standard deviation of errors in the training window.</p><p>The <span>$\tau$</span>-th quantile conditional on <span>$\hat{y}$</span> of such parameterized distribution can be obtained via an analytic expression:</p><p class="math-container">\[\hat{q}_{\tau|\hat{y}} = \hat{y} + \mu + \sigma \sqrt{2} \cdot \text{erf}^{-1} (2\tau - 1).\]</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.Normal" href="#PostForecasts.Normal"><code>PostForecasts.Normal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Normal([type::Type{F}=Float64]; zeromean::Bool=false) where {F&lt;:AbstractFloat}</code></pre><p>Creates a <code>Normal{F}&lt;:UniPostModel{F}&lt;:PostModel{F}</code> model for normal error distribution. Optional keyword argument <code>zeromean</code> specifies whether to assume a zero mean.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/normal.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getmean" href="#PostForecasts.getmean"><code>PostForecasts.getmean</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getmean(m::Normal)</code></pre><p>Return the mean of the distribution from model <code>m</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/normal.jl#L19-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getstd" href="#PostForecasts.getstd"><code>PostForecasts.getstd</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getstd(m::Normal)</code></pre><p>Return the standard deviation of the distribution from model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/normal.jl#L27-L30">source</a></section></article><h2 id="Conformal-prediction-and-historical-simulation"><a class="docs-heading-anchor" href="#Conformal-prediction-and-historical-simulation">Conformal prediction and historical simulation</a><a id="Conformal-prediction-and-historical-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Conformal-prediction-and-historical-simulation" title="Permalink"></a></h2><p>Conformal Prediction (CP) is a machine learning framework for computing prediction intervals based on the outputs of an arbitrary point forecasting model. The implemented method corresponds to inductive conformal prediction <a href="https://doi.org/10.1007/3-540-36755-1_29">(Papadopoulos et al., 2002)</a> and is analogous to the approach of <a href="https://doi.org/10.1016/j.ijforecast.2020.09.006">Kath and Ziel (2021)</a>. </p><p>In the training step, the non-conformity scores <span>$\lambda_i$</span> are calculated on the training set <span>$(\hat{y}_i, y_i)_{i\in\text{training window}}$</span> as <span>$\lambda_i := |\hat{y}_i - y_i|$</span>.</p><p>In the prediction step, the <span>$\tau$</span>-th quantile conditional on <span>$\hat{y_t}$</span> is obtained by shifting the prediction by an appropriate sample quantile of non-conformity scores:</p><p class="math-container">\[\hat{q}_{\tau|\hat{y}} = \hat{y} - \mathbf{1}_{\{\tau &lt; 0.5\}} Q_{1 - 2\tau}(\lambda) + \mathbf{1}_{\{\tau &gt; 0.5\}} Q_{2\tau - 1}(\lambda),\]</p><p>where <span>$Q_{\alpha}(\lambda)$</span> is the <span>$\alpha$</span>-th sample quantile of non-conformity scores from the training window. Although the intervals in the form of <span>$[\hat{y} - Q_{\alpha}(\lambda), \hat{y} +Q_{\alpha}(\lambda)]$</span> are valid <span>$\alpha$</span> prediction intervals without any requirements on the underlying distribution, translating them into quantiles requires the assumption of symmetrically distributed errors.</p><p>However, it is also possible to use conformal prediction to obtain non-symmetric distributions, by using non-absolute errors <span>$\lambda_i := \hat{y}_i - y_i$</span>. Then, in the prediction step <span>$\tau$</span>-th quantile conditional on <span>$\hat{y_t}$</span> is computed as:</p><p class="math-container">\[\hat{q}_{\tau|\hat{y}} = \hat{y} + Q_{\tau}(\lambda),\]</p><p>the method that predates conformal prediction and is widely known as Historical Simulation (HS) <a href="http://dx.doi.org/10.2139/ssrn.1028807">(Hendricks, 1996)</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.CP" href="#PostForecasts.CP"><code>PostForecasts.CP</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CP([type::Type{F}=Float64,] n::Integer[; abs::Bool=true]) where {F&lt;:AbstractFloat}</code></pre><p>Creates a <code>CP{F}&lt;:UniPostModel{F}&lt;:PostModel{F}</code> model for conformal prediction that stores the non-conformity scores of <code>n</code> observations. Optional keyword argument <code>abs</code> specifies whether to use absolute errors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/cp.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getscores" href="#PostForecasts.getscores"><code>PostForecasts.getscores</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getscores(m::CP)</code></pre><p>Return a vector of non-conformity score values from model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/cp.jl#L19-L22">source</a></section></article><h2 id="Isotonic-distributional-regression"><a class="docs-heading-anchor" href="#Isotonic-distributional-regression">Isotonic distributional regression</a><a id="Isotonic-distributional-regression-1"></a><a class="docs-heading-anchor-permalink" href="#Isotonic-distributional-regression" title="Permalink"></a></h2><p>Isotonic Distributional Regression <a href="https://doi.org/10.1111/rssb.12450">(IDR; Henzi et al., 2021)</a> has been recently introduced as a novel nonparametric method for estimating distributions that are isotonic in the regressed variable, which means that the quantiles of such distributions are non-decreasing w.r.t the regressor. In the training step, <span>$n$</span> observations <span>$(\hat{y}_i, y_i)_{i \in \text{training window}}$</span> are first sorted to be ascending in <span>$\hat{y}_i$</span>. Then, <span>$n$</span> conditional distributions <span>$\hat{F_i}(z) = \hat{F}(z|x_i)$</span> are obtained by solving the following min-max problem via abridged pool-adjacent-violators algorithm:</p><p class="math-container">\[\hat{F}_i(z) = \min_{k=1,...,i} \max_{j=k,..,n} \frac{1}{j-k+1}\sum_{l=k}^{j} \mathbb{1}\{y_{l} &lt; z\},\]</p><p>where <span>$z \in (y_i)_{i \in \text{training window}}$</span> To obtain conditional distribution for any <span>$\hat{y}\in\mathbb{R}$</span>, the obtained distribution functions are interpolated</p><p class="math-container">\[\hat{F}(z|\hat{y}) = \frac{\hat{y}-\hat{y}_i}{\hat{y}_{i+1} - \hat{y}_i}\hat{F}_i(z) + \frac{\hat{y}_{i+1} - \hat{y}}{\hat{y}_{i+1} - \hat{y}_i} \hat{F}_{i+1}(z),\]</p><p>If <span>$\hat{y} &lt; \hat{y}_1$</span> or <span>$\hat{y} &gt; \hat{y}_n$</span>, we set <span>$\hat{F}(z|\hat{y})$</span> to <span>$\hat{F}_1(z)$</span> or <span>$\hat{F}_n(z)$</span>, respectively. Finally, since ProbcastSeries stores predictive distributions in the form of quantiles, we determine quantiles at specified levels as</p><p class="math-container">\[\hat{q}_{\tau|\hat{y}} = \min\{z : \hat{F}(z|\hat{y}) \geq \tau\}.\]</p><p>The multivariate version of IDR is not supported, but ForecastSeries containing multiple forecasts can be used as input for computing ProbcastSeries. In such a case, multiple univariate IDR models are estimated and the resulting distributions functions <span>$\hat{F}(z)$</span> are averaged. Since <span>$z$</span> is limited to true values of the timeseries in training window, the distributions resulting from estimated IDRs are defined at the exact same points, which allows to efficiently and precisely compute the average across probability. </p><p>The implemented IDR estimation uses abridged pool-adjacent-violators algorithm introduced by <a href="https://doi.org/10.1007/s11009-022-09937-2">Henzi et al. (2022)</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.IDR" href="#PostForecasts.IDR"><code>PostForecasts.IDR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IDR([type::Type{F}=Float64,] n::Integer, r::Integer) where {F&lt;:AbstractFloat}</code></pre><p>Creates an <code>IDR{F}&lt;:MultiPostModel{F}&lt;:PostModel{F}</code> model for isotonic distributional regression to be trained on <code>n</code> observations with <code>r</code> forecasts (regressors).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/idr.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getcdf" href="#PostForecasts.getcdf"><code>PostForecasts.getcdf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getcdf(m::IDR [, r])</code></pre><p>Return a vector of cumulative distribution function values from model <code>m</code>. Optional argument <code>r::Integer = 1</code> corresponds to the regressor index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/idr.jl#L67-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getx" href="#PostForecasts.getx"><code>PostForecasts.getx</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getx(m::IDR [, r])</code></pre><p>Return a vector of regressor values from model <code>m</code> on which cumulative distribution function is defined. Optional argument <code>r::Integer = 1</code> corresponds to the regressor index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/idr.jl#L50-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.gety" href="#PostForecasts.gety"><code>PostForecasts.gety</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gety(m::IDR)</code></pre><p>Return a vector of response values from model <code>m</code> on which cumulative distribution function is defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/idr.jl#L59-L62">source</a></section></article><h2 id="Quantile-regression"><a class="docs-heading-anchor" href="#Quantile-regression">Quantile regression</a><a id="Quantile-regression-1"></a><a class="docs-heading-anchor-permalink" href="#Quantile-regression" title="Permalink"></a></h2><p>Quantile Regression Averaging <a href="https://doi.org/10.1007/s00180-014-0523-0">(QRA; Nowotarski and Weron, 2014)</a> is a well-established method in for obtaining probabilistic forecasts of electricity prices and load. It learns conditional quantiles as linear combination of <span>$m$</span> point forecasts:</p><p class="math-container">\[\hat{q}_{\tau|\hat{y}^{(1)}, ..., \hat{y}^{(m)}} = \beta^{(\tau)}_0 + \beta^{(\tau)}_1\hat{y}^{(1)} + ... + \beta^{(\tau)}_m\hat{y}^{(m)}.\]</p><p>The coefficients <span>$\beta^{(\tau)}_{0...m}$</span> are selected to minimize the pinball loss on the training window and estimated by solving a linear programming problem. For this task, Probcasts.jl employs <a href="https://jump.dev/JuMP.jl/stable/">JuMP.jl</a> and HiGHS.jl packages. Different LP solvers compatible with JuMP can be used, but the constructor defaults to an open source <a href="https://highs.dev">HiGHS</a>.</p><p>Apart from the standard QRA introduced by <a href="https://doi.org/10.1007/s00180-014-0523-0">Nowotarski and Weron (2014)</a>, <strong>PostForecasts.jl</strong> allows to readily compute Quantile Regression Machine <a href="https://doi.org/10.1016/j.ijforecast.2019.07.002">(QRM; Marcjasz et al., 2020)</a> and Quantile Regression with probability or quantile averaging <a href="https://doi.org/10.1016/j.eneco.2018.02.007">(Uniejewski et al., 2019)</a>. See <a href="https://lipiecki.github.io/PostForecasts.jl/dev/examples/#Different-flavors-of-quantile-regression"><em>Different flavors of quantile regression</em></a> for details.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.QR" href="#PostForecasts.QR"><code>PostForecasts.QR</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">QR([type::Type{F}=Float64,] n::Integer, r::Integer, prob::Union{AbstractFloat, AbstractVector{&lt;:AbstractFloat}}) where {F&lt;:AbstractFloat}</code></pre><p>Creates a <code>QR{F}&lt;:MultiPostModel{F}&lt;:PostModel{F}</code> model for quantile regression to be trained on <code>n</code> observations with <code>r</code> forecasts (regressors), fitting quantiles at probabilities specified by <code>prob</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/qr.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getweights" href="#PostForecasts.getweights"><code>PostForecasts.getweights</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getweights(m::QR)</code></pre><p>Return a copy of the weight matrix from model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/qr.jl#L50-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.getquantprob" href="#PostForecasts.getquantprob"><code>PostForecasts.getquantprob</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getquantprob(m::QR)</code></pre><p>Return a copy of the vector of probabilities corresponding to the quantiles from model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/models/qr.jl#L58-L61">source</a></section></article><h2 id="Training-and-prediction"><a class="docs-heading-anchor" href="#Training-and-prediction">Training and prediction</a><a id="Training-and-prediction-1"></a><a class="docs-heading-anchor-permalink" href="#Training-and-prediction" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.train" href="#PostForecasts.train"><code>PostForecasts.train</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">train(m, X::AbstractVecOrMat{&lt;:Number}, Y::AbstractVector{&lt;:Number})</code></pre><p>Calibrate the model <code>m</code> on the covariates <code>X</code> and responses <code>Y</code>.</p><p>In general, <code>X</code> should be a matrix, which columns correspond to respective regressors. The number of regressors must match the specification of the model.</p><p>For <code>m::UniPostModel</code>, <code>X</code> can be a vector, if it is a matrix with multiple columns, they will be averaged before training.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/train.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.predict" href="#PostForecasts.predict"><code>PostForecasts.predict</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">predict(m, input, quantiles)</code></pre><p>Predict the specified <code>quantiles</code> of the predictive distribution from model <code>m::PostModel{F}</code> conditional on <code>input</code>.</p><p><strong>Argument types</strong></p><ul><li><code>input</code> can be of type <code>Number</code> or <code>AbstractVector{&lt;:Number}</code></li><li><code>quantiles</code> can be of type <code>AbstractFloat</code> (to return a single prediction) or <code>AbstractVector{&lt;:AbstractFloat}</code> (to return a vector of predictions)</li></ul><p><strong>Note</strong></p><p>For <code>m::QR</code>, omitting <code>quantiles</code> argument defaults to using all levels specified in model <code>m</code>, which is recommended. Calling <code>predict(m::QR, input, quantiles)</code> will first match each quantile to the levels specified in <code>m</code>, leading to worse performance. The quantile predictions from <code>QR</code> are sorted to avoid crossing (sorting only includes the levels for which <code>predict</code> was called).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/predict.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PostForecasts.predict!" href="#PostForecasts.predict!"><code>PostForecasts.predict!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">predict!(m, output, input, quantiles)</code></pre><p>In-place version of <code>predict</code> that stores the results in the <code>output::AbstractVector{&lt;:AbstractFloat}</code> vector.</p><p><strong>Argument types</strong></p><ul><li><code>input</code> can be of type <code>Number</code> or <code>AbstractVector{&lt;:Number}</code></li><li><code>quantiles</code> needs to be of type <code>AbstractVector{&lt;:AbstractFloat}</code></li></ul><p><strong>Note</strong></p><p>For <code>m::QR</code>, <code>quantiles</code> argument is <strong>ignored</strong> and can be ommited in the function call. The quantile predictions from <code>QR</code> are automatically sorted to avoid crossing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lipiecki/PostForecasts.jl/blob/9e31907ab646b375f1c3be9457e528a87095980c/src/predict.jl#L81-L91">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../postprocess/">« Postprocessing</a><a class="docs-footer-nextpage" href="../loadsave/">Loading and saving forecasts »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Thursday 22 May 2025 22:50">Thursday 22 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
